<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin ¬∑ Asia & Julio Primary School LMS</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    const supabaseUrl = "https://flwjrnzczjkiamcgvzev.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZsd2pybnpjempraWFtY2d2emV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3MDczMTcsImV4cCI6MjA4MTI4MzMxN30.6QWeaOS1o0dkp0RirjW_x_P-hjs6BeM4ytgCYiTCOiQ";
    const supabase = supabase.createClient(supabaseUrl, supabaseKey);

    async function postAdminAnnouncement() {
      const message = document.getElementById("adminMessage").value.trim();
      if (!message) return alert("Please enter a message.");
      await supabase.from("announcements").insert([
        { role: "admin", message, time: new Date().toLocaleString() }
      ]);
      document.getElementById("adminMessage").value = "";
      alert("Announcement sent to Teachers.");
    }
  </script>
</head>
<body>
  <header class="site-header">
    <h1>Admin</h1>
    <a href="index.html">‚Üê Back to Home</a>
  </header>
  <main>
    <h2>üì¢ Send Announcement to Teachers</h2>
    <textarea id="adminMessage" rows="3" style="width:100%;"></textarea><br>
    <button onclick="postAdminAnnouncement()">Send</button>
  </main>
</body>
</html>
