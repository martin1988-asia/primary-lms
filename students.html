<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Students Â· Asia & Julio Primary School LMS</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    const supabaseUrl = "https://flwjrnzczjkiamcgvzev.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZsd2pybnpjempraWFtY2d2emV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3MDczMTcsImV4cCI6MjA4MTI4MzMxN30.6QWeaOS1o0dkp0RirjW_x_P-hjs6BeM4ytgCYiTCOiQ";
    const supabase = supabase.createClient(supabaseUrl, supabaseKey);

    async function loadTeacherAnnouncements() {
      const { data } = await supabase.from("announcements")
        .select("*").eq("role", "teacher").order("time", { ascending: false });
      const list = document.getElementById("teacherAnnouncements");
      list.innerHTML = "";
      data.forEach(a => {
        list.innerHTML += `<div><strong>Teacher:</strong> ${a.message} <em>${a.time}</em></div>`;
      });
    }

    document.addEventListener("DOMContentLoaded", loadTeacherAnnouncements);
  </script>
</head>
<body>
  <header class="site-header">
    <h1>Students</h1>
    <a href="index.html">â† Back to Home</a>
  </header>
  <main>
    <h2>ğŸ“¢ Announcements from Teachers</h2>
    <div id="teacherAnnouncements"></div>
  </main>
</body>
</html>
